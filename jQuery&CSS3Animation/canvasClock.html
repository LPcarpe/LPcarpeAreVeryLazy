<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div{
            text-align: center;
        }
    </style>
    <script>
        window.onload = function (){
            var dom = document.getElementById("clock");
            var c = dom.getContext('2d');
            var width = c.canvas.width;
            var height = c.canvas.height;
            var r = width / 2;
            var rem = width / 200;

            function drawBackground (){
                c.save();
                c.translate(r, r);
                c.beginPath();
                c.lineWidth = 6 * rem;
                c.arc(0, 0, r-3*rem, 0, 2*Math.PI, false);
                c.stroke();

                var hourNumber = [3,4,5,6,7,8,9,10,11,12,1,2];
                c.textAlign = 'center';
                c.textBaseline = 'middle';
                c.font = 18 * rem + 'px Arial';
                hourNumber.forEach(function (number, i){
                    var rad = 2*Math.PI / 12 * i;
                    var x = Math.cos(rad) * (r-22*rem);
                    var y = Math.sin(rad) * (r-22*rem);
                    c.fillText(number, x, y);
                });

                for (var i=0; i<60; i++){
                    c.beginPath();
                    var rad = 2*Math.PI / 60 * i;
                    var x = Math.cos(rad) * (r-10*rem);
                    var y = Math.sin(rad) * (r-10*rem);
                    if(i % 5 == 0){
                        c.fillStyle = '#FF1493'
                        c.arc(x, y, 2, 0, 2*Math.PI, false);
                    }
                    else{
                        c.fillStyle = 'grey';
                        c.arc(x, y, 1.2, 0, 2*Math.PI, false);
                    }
                    c.fill();
                }
            }

            function drawHour(hour, minute, second){
                var rad = 2*Math.PI / 12 * hour + 2*Math.PI / (12 * 60) * minute + 2*Math.PI / (12 * 60 * 60) * second;
                c.save();
                c.beginPath();
                c.rotate(rad);
                c.lineWidth = 4;
                c.moveTo(0, 10);
                c.lineTo(0, -r / 2);
                c.stroke();
                c.restore();
            }

            function drawMinute(minute, second){
                c.save();
                var rad = 2*Math.PI / 60 * minute + 2*Math.PI / (60 * 60) * second;
                c.beginPath();
                c.rotate(rad);
                c.lineWidth = 4;
                c.moveTo(0, 10);
                c.lineTo(0, -r + 30 * rem);
                c.stroke();
                c.restore();
            }

            function drawSecond(second){
                c.save();
                c.beginPath();
                var rad = 2*Math.PI / 60 * second;
                c.rotate(rad);
                c.moveTo(-2, 15);
                c.lineTo(2, 15);
                c.lineTo(1, -r + 10 * rem);
                c.lineTo(-1, -r + 10 * rem);
                c.fillStyle = 'red';
                c.fill();
                c.restore();
            }

            function drawDot(){
                c.beginPath();
                c.arc(0, 0, 5, 0, 2*Math.PI, false);
                c.fillStyle = '#fff';
                c.fill();
            }
           
           function drawClock(){
               c.clearRect(0, 0, width, height);

               var time = new Date();
               var hour = time.getHours();
               var minute = time.getMinutes();
               var second = time.getSeconds();

               drawBackground();
               drawHour(hour, minute, second);
               drawMinute(minute, second);
               drawSecond(second);
               drawDot();

               c.restore();
           }

           drawClock();
           setInterval(drawClock, 1000);
        }
    </script>
</head>
<body>
    <div><canvas id="clock" width="200" height="200">亲～你的浏览器不支持canvas</canvas></div>
</body>
</html>